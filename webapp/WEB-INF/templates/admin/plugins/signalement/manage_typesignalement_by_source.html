<link rel="stylesheet" href="css/bootstrap-select.css" />
<style>
.dropdown-menu > li > a{ width: 100%; }
</style>

<div class="row">
	<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
		<div class="box box-info">
			<div class="box-header">
				<h3 class="box-title">#i18n{dansmarue.manageTypeSignalement.source.manage.name} </h3>
			</div>
			<div class="box-body">
				<h3>${source.libelle}</h3>
				<hr>
				<!-- Form modify source -->
				<@tform id='addSource' method='post' action='jsp/admin/plugins/signalement/ManageTypeSignalementBySource.jsp'>
					<div class="row">
					<div class="form-group col-sm-8">
						<label class="<@labelStyle />" for="description">#i18n{dansmarue.manageTypeSignalement.source.libelleDescription.label}</label>
						<div class="col-sm-8">
							<input required="required" value="${source.description}"  class="form-control" id="description" name="description" type="text" />
						</div>
					</div>
				</div>
				<div class="row">
					<div class="form-group col-sm-8">
						<label class="<@labelStyle />" for="commentaire">#i18n{dansmarue.manageTypeSignalement.source.libelleCommentaire.label}</label>
						<div class="col-sm-8">
							<input required="required" value="${source.commentaire}" class="form-control" id="commentaire" name="commentaire" type="text" />
						</div>
					</div>
				</div>
				<div class="row">
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
						<div class="form-group">
							<div class="col-xs-12 col-sm-offset-3 col-sm-6 col-md-offset-3 col-md-6">
								<button type="submit" class="btn btn-primary btn-sm" name="action_doModifySource">	    	
									<i class="glyphicon glyphicon-ok"></i>&nbsp;
									#i18n{dansmarue.valider}
								</button>
							</div>
						</div>
					</div>
				</div>
				<input type="hidden" id="id" name="id" value=${source.id} />
				</@tform>
				<hr>
				<!-- Form add type -->
				<form class="form-horizontal" method="post" action="jsp/admin/plugins/signalement/ManageTypeSignalementBySource.jsp">
					<div class="row">
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
							<div class="form-group">
								<label class="<@labelStyle />" for="typesignalement_id">#i18n{dansmarue.manageTypeSignalement.source.manage.choix} :</label>
								<div class="<@inputStyle />" style="text-align:left">
									<select name="typesignalement_id"  id="typesignalement_id" class="selectpicker" data-width="300px" data-live-search="true">
										<#list list_type as type>
											<#if type.actif>
												<option value="${type.id}">${type.libelle}</option>
											</#if>
										</#list>
									</select>
								</div>
								<input type="hidden" id="source_id" name="source_id" value=${source.id} />
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
							<div class="form-group">
								<div class="col-xs-12 col-sm-offset-3 col-sm-6 col-md-offset-3 col-md-6">
									<button type="submit" class="btn btn-primary btn-sm" name="action_doAddTypeToSource">	    	
										<i class="glyphicon glyphicon-plus"></i>&nbsp;
										#i18n{dansmarue.commons.ajouter}
									</button>
								</div>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
							<div class="form-group">
								<label class="<@labelStyle />">#i18n{dansmarue.manageTypeSignalement.source.liste} :</label>
							</div>
						</div>
					</div>
					<div class="row">
						<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
							<table class="table table-striped table-condensed">
								<tr>
									<th>#i18n{dansmarue.commons.libelle}</th>
									<th></th>
								</tr>
								<#list list_type_source as typesignalement>
									<tr>
										<td>${typesignalement.libelle!}</td>
										<td>
											<a class="btn btn-danger btn-sm"
												alt="#i18n{dansmarue.listtypesignalement.deletetypesignalement.alt}"
												title="#i18n{dansmarue.listtypesignalement.deletetypesignalement.title}"
												href="jsp/admin/plugins/signalement/ManageTypeSignalementBySource.jsp?action=doRemoveTypeFromSource&typesignalement_id=${typesignalement.id}&source_id=${source.id}">
													<i class="glyphicon glyphicon-trash"></i>
											</a>
										</td>
									</tr>
								</#list>
							</table>
						</div>
					</div>
					<div class="row">
					<div class="form-group col-sm-8 text-center" >
						<div class="form-group">
							<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
								<a style="color:white;" href="jsp/admin/plugins/signalement/ManageTypeSignalementBySource.jsp">
									<button type="button" class="btn btn-paris btn-blue btn-lg" id="retour">
										#i18n{dansmarue.retour}
									</button>
								</a>
							</div>
						</div>
					</div>
				</div>
				</form>
			</div>
		</div>
	</div>
</div>
